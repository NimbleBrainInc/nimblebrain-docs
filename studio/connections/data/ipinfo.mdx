---
title: 'IPInfo'
description: 'IP geolocation, network intelligence, and security data for informed decision-making'
category: 'Data Intelligence'
difficulty: 'Beginner'
required_auth: true
api_provider:
  name: 'IPInfo'
  url: 'https://ipinfo.io'
  signup_url: 'https://ipinfo.io/signup'
tags: ['ip-lookup', 'geolocation', 'network-intelligence', 'security', 'asn', 'abuse-detection', 'vpn-detection', 'fraud-prevention']
---

## Overview

<CardGroup cols={2}>
  <Card title="What it does" icon="location-dot">
    IPInfo provides comprehensive IP intelligence including geolocation, network data, security insights, and abuse detection. Make informed decisions about traffic, enhance security, and personalize experiences based on visitor location and network characteristics.

    **Key Features:**
    - IP geolocation (country, city, region, coordinates)
    - Network intelligence (ASN, carrier, company info)
    - Privacy detection (VPN, proxy, Tor, hosting)
    - Abuse and threat intelligence
    - Batch processing up to 500,000 IPs
    - WHOIS lookups (IP, domain, ASN)
    - Hosted domains and IP range discovery
    - Visual IP mapping
  </Card>

  <Card title="Use Cases" icon="lightbulb">
    **Business Scenarios:**

    - **Fraud Detection**: Identify suspicious IPs from VPNs, proxies, or known abuse networks
    - **Content Personalization**: Show localized content, pricing, and language options
    - **Network Security**: Monitor and block traffic from high-risk sources
    - **Access Control**: Enforce geographic restrictions and compliance requirements
    - **Analytics Enhancement**: Enrich visitor data with location and network context
    - **Customer Support**: Provide geographic context for better assistance
    - **B2B Lead Qualification**: Identify enterprise visitors by company and network
    - **Compliance**: Meet GDPR, export controls, and licensing requirements
  </Card>
</CardGroup>

---

## Quick Start

<Steps>
  <Step title="Get Your Access Token">
    Sign up for an IPInfo account at [ipinfo.io/signup](https://ipinfo.io/signup)

    **Free Tier Includes:**
    - 50,000 requests per month
    - Core IP data (location, ASN, company)
    - City-level geolocation
    - No credit card required

    After signing up:
    1. Verify your email address
    2. Log in to your IPInfo account
    3. Go to your **Dashboard**
    4. Copy your **access token**
    5. The token will look like: `abc123def456`

    <Info>
      IPInfo offers Free, Basic, Standard, and Business tiers. The Free tier provides 50,000 requests/month - perfect for getting started and many production use cases.
    </Info>
  </Step>

  <Step title="Add to NimbleBrain Studio">
    In NimbleBrain Studio:

    1. Navigate to **Connections** in the sidebar
    2. Click **Add Server**
    3. Search for "IPInfo" in the server registry
    4. Click **Configure**
    5. Paste your access token in the **IPINFO_API_TOKEN** field
    6. Click **Save & Enable**

    <Info>
      The server will automatically connect and become available in your AI assistant within seconds.
    </Info>
  </Step>

  <Step title="Test the Connection">
    In your Studio chat, try this prompt:

```text
"Look up the location of IP address 8.8.8.8"
```

    You should see detailed information about Google's DNS server including:
    - Location: Mountain View, California, United States
    - Organization: Google LLC
    - ASN: AS15169

    <Tip>
      Look for the üîß tool usage indicator in Studio to confirm the IPInfo server is working correctly.
    </Tip>
  </Step>
</Steps>

---

## Available Tools

<AccordionGroup>
  <Accordion title="get_ip_info" icon="circle-info">
    Get comprehensive information about an IP address including location, network, company, privacy, and abuse data.

    **Parameters:**

    | Parameter | Type | Required | Description |
    |-----------|------|----------|-------------|
    | ip | string | No | IP address to lookup (if omitted, returns current IP info) |

    **Returns:**
    ```json
    {
      "ip": "8.8.8.8",
      "hostname": "dns.google",
      "city": "Mountain View",
      "region": "California",
      "country": "US",
      "loc": "37.4056,-122.0775",
      "postal": "94043",
      "timezone": "America/Los_Angeles",
      "org": "AS15169 Google LLC",
      "asn": {
        "asn": "AS15169",
        "name": "Google LLC",
        "domain": "google.com",
        "type": "business"
      },
      "company": {
        "name": "Google LLC",
        "domain": "google.com",
        "type": "business"
      },
      "privacy": {
        "vpn": false,
        "proxy": false,
        "tor": false,
        "hosting": true
      }
    }
    ```

    **Example Usage:**

```text
"Tell me everything about IP address 203.0.113.42"
```

    <Tip>
      This is the most comprehensive tool - use it when you need detailed information about an IP. For specific fields only, use the single-field tools below for faster responses.
    </Tip>
  </Accordion>

  <Accordion title="get_account_info" icon="user">
    View your IPInfo account information, API limits, and available features.

    **Parameters:**
    None required.

    **Returns:**
    ```json
    {
      "token": "abc123...",
      "requests": {
        "month": 50000,
        "used": 12500
      },
      "features": {
        "geolocation": true,
        "privacy": false,
        "asn": true
      }
    }
    ```

    **Example Usage:**

```text
"How many IPInfo API requests have I used this month?"
```

    <Tip>
      Use this to monitor your quota and check which features are available on your current plan.
    </Tip>
  </Accordion>

  <Accordion title="batch_lookup" icon="layer-group">
    Look up multiple IP addresses in a single request (more efficient than sequential lookups).

    **Parameters:**

    | Parameter | Type | Required | Description |
    |-----------|------|----------|-------------|
    | ips | array | Yes | List of IP addresses to lookup (can include field paths like "8.8.8.8/city") |

    **Returns:**
    ```json
    {
      "8.8.8.8": {
        "city": "Mountain View",
        "country": "US",
        "org": "AS15169 Google LLC"
      },
      "1.1.1.1": {
        "city": "San Francisco",
        "country": "US",
        "org": "AS13335 Cloudflare"
      }
    }
    ```

    **Example Usage:**

```text
"Look up these IP addresses: 8.8.8.8, 1.1.1.1, 208.67.222.222"
```

    <Tip>
      Batch requests are much more efficient than looking up IPs one by one. Use this for analyzing log files or multiple visitors at once.
    </Tip>
  </Accordion>

  <Accordion title="summarize_ips" icon="chart-simple">
    Analyze a list of IP addresses and get summary statistics with geographic distribution.

    **Parameters:**

    | Parameter | Type | Required | Description |
    |-----------|------|----------|-------------|
    | ips | array | Yes | List of IP addresses to summarize (up to 500,000) |

    **Returns:**
    ```json
    {
      "total_ips": 1000,
      "unique_countries": 45,
      "unique_regions": 120,
      "unique_cities": 350,
      "countries": {
        "US": 450,
        "GB": 200,
        "DE": 150
      },
      "map_url": "https://ipinfo.io/tools/map?..."
    }
    ```

    **Example Usage:**

```text
"Analyze the geographic distribution of these 100 visitor IPs from my access log"
```

    <Note>
      Perfect for analytics reports and understanding your traffic patterns. Supports up to 500,000 IPs in one request.
    </Note>
  </Accordion>

  <Accordion title="map_ips" icon="map">
    Create a visual map showing the geographic locations of IP addresses.

    **Parameters:**

    | Parameter | Type | Required | Description |
    |-----------|------|----------|-------------|
    | ips | array | Yes | List of IP addresses to map (up to 500,000) |

    **Returns:**
    ```json
    {
      "map_url": "https://ipinfo.io/tools/map?ips=8.8.8.8,1.1.1.1",
      "total_ips": 2,
      "report_url": "https://ipinfo.io/tools/summarize?..."
    }
    ```

    **Example Usage:**

```text
"Create a map showing where these customer IPs are located"
```

    <Tip>
      Great for executive reports and visualizing your global user base. The map_url opens an interactive visualization.
    </Tip>
  </Accordion>

  <Accordion title="get_asn_info" icon="server">
    Get detailed information about an Autonomous System Number (ASN) including network prefixes and peering relationships.

    **Parameters:**

    | Parameter | Type | Required | Description |
    |-----------|------|----------|-------------|
    | asn | integer | Yes | ASN number (without 'AS' prefix, e.g., 15169 for Google) |

    **Returns:**
    ```json
    {
      "asn": "AS15169",
      "name": "Google LLC",
      "country": "US",
      "allocated": "2000-03-30",
      "registry": "arin",
      "domain": "google.com",
      "num_ips": 268435456,
      "type": "business",
      "prefixes": [...],
      "peers": ["AS3356", "AS174"],
      "upstreams": [],
      "downstreams": ["AS36040"]
    }
    ```

    **Example Usage:**

```text
"Tell me about ASN 15169"
```

    <Note>
      Useful for understanding network infrastructure, identifying hosting providers, and analyzing peering relationships.
    </Note>
  </Accordion>

  <Accordion title="get_company_info" icon="building">
    Get company information associated with an IP address.

    **Parameters:**

    | Parameter | Type | Required | Description |
    |-----------|------|----------|-------------|
    | ip | string | Yes | IP address to lookup |

    **Returns:**
    ```json
    {
      "name": "Google LLC",
      "domain": "google.com",
      "type": "business"
    }
    ```

    **Type Values:** isp, business, education, hosting, inactive

    **Example Usage:**

```text
"What company does IP 8.8.8.8 belong to?"
```

    <Tip>
      Perfect for B2B lead qualification - identify enterprise visitors by their company and domain.
    </Tip>
  </Accordion>

  <Accordion title="get_carrier_info" icon="tower-cell">
    Get mobile carrier information for an IP address.

    **Parameters:**

    | Parameter | Type | Required | Description |
    |-----------|------|----------|-------------|
    | ip | string | Yes | IP address to lookup |

    **Returns:**
    ```json
    {
      "name": "Verizon Wireless",
      "mcc": "310",
      "mnc": "004"
    }
    ```

    **Example Usage:**

```text
"What mobile carrier is this IP from: 198.51.100.45"
```

    <Note>
      MCC (Mobile Country Code) and MNC (Mobile Network Code) help identify the specific carrier network. Useful for mobile traffic analysis.
    </Note>
  </Accordion>

  <Accordion title="get_privacy_info" icon="user-shield">
    Detect if an IP is using privacy services like VPN, proxy, Tor, or hosting providers.

    **Parameters:**

    | Parameter | Type | Required | Description |
    |-----------|------|----------|-------------|
    | ip | string | Yes | IP address to check |

    **Returns:**
    ```json
    {
      "vpn": true,
      "proxy": false,
      "tor": false,
      "hosting": false,
      "relay": false,
      "service": "NordVPN"
    }
    ```

    **Example Usage:**

```text
"Is this IP 185.220.101.50 using a VPN or proxy?"
```

    <Warning>
      Privacy detection requires Basic tier or higher. Essential for fraud detection and enforcing access policies.
    </Warning>
  </Accordion>

  <Accordion title="get_abuse_contact" icon="envelope">
    Get abuse contact information for reporting malicious activity from an IP address.

    **Parameters:**

    | Parameter | Type | Required | Description |
    |-----------|------|----------|-------------|
    | ip | string | Yes | IP address to lookup |

    **Returns:**
    ```json
    {
      "address": "1600 Amphitheatre Parkway, Mountain View, CA 94043, US",
      "country": "US",
      "email": "network-abuse@google.com",
      "name": "Abuse Contact",
      "network": "8.0.0.0/9",
      "phone": "+1-650-253-0000"
    }
    ```

    **Example Usage:**

```text
"Who do I contact to report abuse from IP 8.8.8.8?"
```

    <Tip>
      Use this to report attacks, spam, or malicious activity to the network administrator responsible for that IP block.
    </Tip>
  </Accordion>

  <Accordion title="get_hosted_domains" icon="globe">
    Get a list of domains hosted on a specific IP address.

    **Parameters:**

    | Parameter | Type | Required | Description |
    |-----------|------|----------|-------------|
    | ip | string | Yes | IP address to lookup |
    | page | integer | No | Page number (starts at 0) |
    | limit | integer | No | Results per page (max 1000, default 100) |

    **Returns:**
    ```json
    {
      "ip": "104.18.32.68",
      "page": 0,
      "total": 250,
      "domains": [
        "example.com",
        "test.example.com",
        "www.example.com"
      ]
    }
    ```

    **Example Usage:**

```text
"What domains are hosted on IP 104.18.32.68?"
```

    <Note>
      Useful for investigating shared hosting, identifying all sites on a server, or detecting malicious domains sharing infrastructure.
    </Note>
  </Accordion>

  <Accordion title="get_ip_ranges" icon="network-wired">
    Get IP ranges owned by a domain or organization.

    **Parameters:**

    | Parameter | Type | Required | Description |
    |-----------|------|----------|-------------|
    | domain | string | Yes | Domain name to lookup |

    **Returns:**
    ```json
    {
      "domain": "google.com",
      "num_ranges": "125",
      "redirects_to": "",
      "ranges": [
        "8.8.8.0/24",
        "8.8.4.0/24",
        "172.217.0.0/16"
      ]
    }
    ```

    **Example Usage:**

```text
"What IP ranges does google.com own?"
```

    <Tip>
      Useful for allowlisting, identifying all infrastructure owned by a company, or network security analysis.
    </Tip>
  </Accordion>

  <Accordion title="whois_lookup_by_ip" icon="magnifying-glass">
    Perform WHOIS lookup for an IP address or IP range.

    **Parameters:**

    | Parameter | Type | Required | Description |
    |-----------|------|----------|-------------|
    | ip | string | Yes | IP address or range to lookup |
    | page | integer | No | Page number for paginated results |
    | source | string | No | Filter by WHOIS source (arin, ripe, afrinic, apnic, lacnic) |

    **Returns:**
    ```json
    {
      "net": "8.8.8.0/24",
      "total": 1,
      "page": 0,
      "records": [{
        "range": "8.0.0.0/9",
        "name": "LVLT-ORG-8-8",
        "org": "Google LLC",
        "country": "US",
        "updated": "2014-03-14",
        "status": "allocated",
        "source": "arin"
      }]
    }
    ```

    **Example Usage:**

```text
"WHOIS lookup for 8.8.8.8"
```

    <Note>
      WHOIS data provides official registration information including network ownership, allocation dates, and administrative contacts.
    </Note>
  </Accordion>

  <Accordion title="whois_lookup_by_domain" icon="globe">
    Perform WHOIS lookup for an organization by domain name.

    **Parameters:**

    | Parameter | Type | Required | Description |
    |-----------|------|----------|-------------|
    | domain | string | Yes | Domain name to lookup |
    | page | integer | No | Page number for paginated results |
    | source | string | No | Filter by WHOIS source (arin, ripe, afrinic, apnic, lacnic) |

    **Returns:**
    ```json
    {
      "net": "google.com",
      "total": 45,
      "page": 0,
      "records": [...]
    }
    ```

    **Example Usage:**

```text
"WHOIS lookup for domain google.com"
```
  </Accordion>

  <Accordion title="whois_lookup_by_asn" icon="server">
    Perform WHOIS lookup for an Autonomous System Number.

    **Parameters:**

    | Parameter | Type | Required | Description |
    |-----------|------|----------|-------------|
    | asn | integer | Yes | ASN number to lookup |
    | page | integer | No | Page number for paginated results |
    | source | string | No | Filter by WHOIS source (arin, ripe, afrinic, apnic, lacnic) |

    **Returns:**
    ```json
    {
      "net": "AS15169",
      "total": 1,
      "page": 0,
      "records": [...]
    }
    ```

    **Example Usage:**

```text
"WHOIS lookup for ASN 15169"
```
  </Accordion>

  <Accordion title="get_ip_city" icon="city">
    Get just the city for an IP address (faster than full lookup).

    **Parameters:**

    | Parameter | Type | Required | Description |
    |-----------|------|----------|-------------|
    | ip | string | No | IP address (if omitted, returns current city) |

    **Returns:**
    String with city name, e.g., `"Mountain View"`

    **Example Usage:**

```text
"What city is IP 8.8.8.8 from?"
```

    <Tip>
      Single-field tools are faster and use less data. Use them when you only need one specific piece of information.
    </Tip>
  </Accordion>

  <Accordion title="get_ip_country" icon="flag">
    Get just the country code for an IP address.

    **Parameters:**

    | Parameter | Type | Required | Description |
    |-----------|------|----------|-------------|
    | ip | string | No | IP address (if omitted, returns current country) |

    **Returns:**
    String with two-letter country code (ISO-3166), e.g., `"US"`

    **Example Usage:**

```text
"What country is IP 203.0.113.42 from?"
```
  </Accordion>

  <Accordion title="get_ip_region" icon="map-location">
    Get just the region/state for an IP address.

    **Parameters:**

    | Parameter | Type | Required | Description |
    |-----------|------|----------|-------------|
    | ip | string | No | IP address (if omitted, returns current region) |

    **Returns:**
    String with region or state name, e.g., `"California"`

    **Example Usage:**

```text
"What state is this visitor from: 8.8.8.8"
```
  </Accordion>

  <Accordion title="get_ip_location" icon="location-crosshairs">
    Get just the coordinates for an IP address.

    **Parameters:**

    | Parameter | Type | Required | Description |
    |-----------|------|----------|-------------|
    | ip | string | No | IP address (if omitted, returns current location) |

    **Returns:**
    String with latitude,longitude coordinates, e.g., `"37.4056,-122.0775"`

    **Example Usage:**

```text
"What are the coordinates for IP 8.8.8.8?"
```

    <Tip>
      Use coordinates to place IPs on maps, calculate distances, or determine time zones programmatically.
    </Tip>
  </Accordion>

  <Accordion title="get_ip_postal" icon="envelopes-bulk">
    Get just the postal/ZIP code for an IP address.

    **Parameters:**

    | Parameter | Type | Required | Description |
    |-----------|------|----------|-------------|
    | ip | string | No | IP address (if omitted, returns current postal code) |

    **Returns:**
    String with postal or ZIP code, e.g., `"94043"`

    **Example Usage:**

```text
"What is the ZIP code for IP 8.8.8.8?"
```
  </Accordion>

  <Accordion title="get_ip_timezone" icon="clock">
    Get just the timezone for an IP address.

    **Parameters:**

    | Parameter | Type | Required | Description |
    |-----------|------|----------|-------------|
    | ip | string | No | IP address (if omitted, returns current timezone) |

    **Returns:**
    String with IANA timezone, e.g., `"America/Los_Angeles"`

    **Example Usage:**

```text
"What timezone is this customer in: 203.0.113.42"
```

    <Tip>
      Use timezone data to show appropriate local times, schedule communications, or optimize customer support availability.
    </Tip>
  </Accordion>

  <Accordion title="get_ip_hostname" icon="desktop">
    Get just the hostname (reverse DNS) for an IP address.

    **Parameters:**

    | Parameter | Type | Required | Description |
    |-----------|------|----------|-------------|
    | ip | string | No | IP address (if omitted, returns current hostname) |

    **Returns:**
    String with hostname, e.g., `"dns.google"`

    **Example Usage:**

```text
"What is the hostname for 8.8.8.8?"
```
  </Accordion>

  <Accordion title="get_ip_org" icon="building">
    Get just the organization/ASN for an IP address.

    **Parameters:**

    | Parameter | Type | Required | Description |
    |-----------|------|----------|-------------|
    | ip | string | No | IP address (if omitted, returns current organization) |

    **Returns:**
    String with ASN and organization name, e.g., `"AS15169 Google LLC"`

    **Example Usage:**

```text
"What organization owns IP 8.8.8.8?"
```
  </Accordion>
</AccordionGroup>

---

## Authentication

<Info>
  **Access Token Required**: This server requires an IPInfo access token to function.
</Info>

### Getting Your Access Token

1. Visit [ipinfo.io/signup](https://ipinfo.io/signup)
2. Click **Sign Up** or **Log In**
3. Choose your plan:
   - **Free**: 50,000 requests/month, no credit card required
   - **Basic**: 150,000 requests/month + privacy detection ($49/mo)
   - **Standard**: 250,000 requests/month + ASN details ($99/mo)
   - **Business**: 500,000+ requests/month, full API access (custom pricing)
4. Verify your email address
5. Log in to your dashboard
6. Copy your **access token** from the dashboard
7. The token will look like: `abc123def456ghi789`

<Tip>
  Start with the Free tier - 50,000 requests per month is sufficient for most testing, development, and many production use cases (approximately 1,600 requests per day).
</Tip>

### Rate Limits & Pricing

| Plan | Requests/Month | Key Features | Price |
|------|----------------|--------------|-------|
| Free | 50,000 | Core IP data, geolocation, ASN, company | $0 |
| Basic | 150,000 | + Privacy detection (VPN, proxy, Tor) | $49/mo |
| Standard | 250,000 | + Detailed ASN, domains, IP ranges | $99/mo |
| Business | 500,000+ | Full API access, bulk data, priority support | Custom |

**Request Counting:**
- Each single IP lookup = 1 request
- Batch lookups count per IP in the batch
- Failed requests (errors) don't count toward your limit
- Limits reset on the 1st of each month

<Warning>
  Free tier tokens are limited to 50,000 requests per month. Monitor your usage in the IPInfo dashboard or use the `get_account_info` tool to check programmatically.
</Warning>

### Managing Your Token in Studio

Your access token is securely stored in NimbleBrain Studio. To update it:

1. Go to **Connections**
2. Find "IPInfo" in your server list
3. Click **Edit Configuration**
4. Update your **IPINFO_API_TOKEN** field
5. Click **Save**

<Info>
  Studio automatically manages server connections - no manual restarts required. Changes take effect immediately.
</Info>

---

## Example Workflows

<Tabs>
  <Tab title="Fraud Detection">
    **Scenario:** Identify suspicious login attempts and prevent account takeover

    **Prompt:**

```text
"A login attempt just came from IP 185.220.101.50. Check if this is suspicious - is it a VPN, proxy, or from a known abuse network?"
```

    **What happens:**
    1. Looks up IP geolocation (country, city, region)
    2. Checks privacy detection (VPN, proxy, Tor, hosting)
    3. Retrieves abuse contact information
    4. Identifies network type and reputation
    5. Returns comprehensive threat assessment

    **Typical Response:**
    - IP is from: Amsterdam, Netherlands
    - Privacy: VPN detected (NordVPN)
    - Hosting: Yes (datacenter IP)
    - Risk Level: Medium-High
    - Recommendation: Require additional authentication

    **Time:** &lt;1 second
    **API calls:** 1

    <Tip>
      Combine privacy detection with user behavior analysis (new device, unusual location, failed attempts) to create robust fraud rules. VPN + datacenter + unusual location = high risk.
    </Tip>
  </Tab>

  <Tab title="Content Personalization">
    **Scenario:** Automatically show localized content and pricing based on visitor location

    **Prompt:**

```text
"A visitor just arrived with IP 203.0.113.42. What country, region, and timezone are they in so I can personalize their experience?"
```

    **What happens:**
    1. Returns country code for language/currency selection
    2. Provides region for shipping calculations
    3. Returns city for local promotions
    4. Includes timezone for scheduling
    5. Provides coordinates for distance calculations

    **Typical Response:**
    - Country: US (show prices in USD, English)
    - Region: California (CA shipping rates)
    - City: San Francisco (local store promotions)
    - Timezone: America/Los_Angeles (PST)
    - Coordinates: 37.7749,-122.4194

    **Time:** &lt;1 second
    **API calls:** 1

    <Note>
      Use country codes for currency/language, region for shipping, timezone for scheduling, and coordinates for "find nearby" features. Cache results for repeat visitors.
    </Note>
  </Tab>

  <Tab title="Network Intelligence">
    **Scenario:** Identify high-value enterprise visitors for B2B sales

    **Prompt:**

```text
"A visitor from IP 8.8.8.8 is browsing our enterprise pricing page. Tell me what company they're from, their network details, and if this is a business account."
```

    **What happens:**
    1. Returns company name and domain
    2. Identifies organization type (business, ISP, education)
    3. Provides ASN information
    4. Returns network size (number of IPs)
    5. Includes contact domain for outreach

    **Typical Response:**
    - Company: Google LLC
    - Domain: google.com
    - Type: Business (not ISP)
    - ASN: AS15169 (268M IPs - major enterprise)
    - Qualification: High-value lead

    **Time:** &lt;1 second
    **API calls:** 1

    <Tip>
      Filter out ISP and hosting IPs (type: "isp" or "hosting") to focus on actual business visitors. Large ASNs with business type = enterprise prospects.
    </Tip>
  </Tab>

  <Tab title="Security Monitoring">
    **Scenario:** Monitor access logs for suspicious patterns and block high-risk IPs

    **Prompt:**

```text
"Analyze these 50 IPs from my failed login attempts. Which ones are from VPNs, proxies, or hosting providers that I should block?"
```

    **What happens:**
    1. Batch lookup of all 50 IPs in one request
    2. Identifies privacy services (VPN, proxy, Tor)
    3. Flags hosting/datacenter IPs
    4. Checks geographic patterns (same location, distributed)
    5. Returns list of suspicious IPs with reasons

    **Typical Response:**
    - 15 IPs from VPN services ‚Üí Block
    - 8 IPs from hosting providers ‚Üí Block
    - 3 IPs using Tor ‚Üí Block
    - 24 IPs from residential ISPs ‚Üí Review

    **Time:** 1-2 seconds for batch
    **API calls:** 50 (one per IP)

    <Warning>
      High volumes of requests from datacenter IPs, VPNs, or geographically distributed locations within minutes indicate automated attacks. Implement rate limiting and blocking.
    </Warning>
  </Tab>

  <Tab title="Customer Support">
    **Scenario:** Provide geographic context to support agents for better assistance

    **Prompt:**

```text
"Customer ticket #5432 came from IP 198.51.100.45. Where is this customer located and what's their local time? Are there any network issues I should know about?"
```

    **What happens:**
    1. Returns location (helps route to local support)
    2. Provides timezone and current local time
    3. Identifies ISP (detects network issues)
    4. Returns company/organization context
    5. Shows whether using VPN (may affect connectivity)

    **Typical Response:**
    - Location: London, United Kingdom
    - Timezone: Europe/London (currently 3:45 PM)
    - ISP: BT Group (major UK provider)
    - Network: Residential broadband
    - VPN: Not detected

    **Time:** &lt;1 second
    **API calls:** 1

    <Tip>
      Automatically add this context to your CRM when tickets are created. Helps agents understand: (1) language needs, (2) business hours, (3) regional issues, (4) connectivity problems.
    </Tip>
  </Tab>

  <Tab title="Compliance & Geo-Blocking">
    **Scenario:** Enforce geographic access restrictions for licensing or regulatory compliance

    **Prompt:**

```text
"Is IP 192.0.2.100 from a country where we're licensed to operate? We only serve US, CA, UK, and EU countries."
```

    **What happens:**
    1. Returns country code
    2. Checks against your allowed list
    3. Provides region information
    4. Identifies EU jurisdiction for GDPR
    5. Returns decision: allow or block

    **Typical Response:**
    - Country: US ‚Üí ‚úÖ Allowed
    - Region: California
    - EU Jurisdiction: No
    - GDPR Applicable: No
    - Decision: Allow access

    **Time:** &lt;1 second
    **API calls:** 1

    <Info>
      Essential for compliance with GDPR (EU), export controls (sanctioned countries), content licensing (geographic restrictions), and financial regulations (KYC requirements).
    </Info>
  </Tab>

  <Tab title="Analytics Enhancement">
    **Scenario:** Enrich analytics data with geographic and network insights

    **Prompt:**

```text
"I have 500 visitor IPs from this week. Create a summary showing geographic distribution, top networks, and any suspicious patterns."
```

    **What happens:**
    1. Batch processes all 500 IPs
    2. Aggregates by country, region, city
    3. Identifies top networks/ASNs
    4. Calculates VPN/proxy usage rate
    5. Generates map visualization
    6. Provides downloadable report

    **Typical Response:**
    - Top Countries: US (45%), UK (20%), DE (15%)
    - Top Cities: New York, London, Berlin
    - Top Networks: Comcast, BT, Deutsche Telekom
    - VPN Usage: 8% (suspicious?)
    - Map URL: [interactive visualization]

    **Time:** 2-3 seconds for 500 IPs
    **API calls:** 500 + 1 (summary)

    <Tip>
      Cache IP lookups for frequently seen addresses. Most visitors return, so you can reduce API calls by 80%+ with 24-hour caching.
    </Tip>
  </Tab>

  <Tab title="VPN & Proxy Detection">
    **Scenario:** Identify users masking their true location

    **Prompt:**

```text
"Is the visitor at 104.16.132.229 using a VPN, proxy, or other privacy service? I need to enforce our terms that require real locations."
```

    **What happens:**
    1. Detects VPN usage
    2. Identifies proxy servers
    3. Flags hosting provider IPs
    4. Checks for Tor exit nodes
    5. Identifies anonymizer services
    6. Returns privacy service name if detected

    **Typical Response:**
    - VPN: Yes (ExpressVPN detected)
    - Proxy: No
    - Tor: No
    - Hosting: Yes (AWS datacenter)
    - Service: ExpressVPN
    - Recommendation: Require verification

    **Time:** &lt;1 second
    **API calls:** 1

    <Warning>
      Privacy detection requires Basic tier or higher ($49/mo). Essential for content licensing, fraud prevention, and enforcing geographic restrictions.
    </Warning>
  </Tab>

  <Tab title="Bulk IP Analysis">
    **Scenario:** Process large log files efficiently

    **Prompt:**

```text
"Analyze my access log with 10,000 IPs. Show me the geographic distribution and create a visual map."
```

    **What happens:**
    1. Uses batch and summarize endpoints
    2. Processes up to 500,000 IPs
    3. Aggregates statistics
    4. Identifies patterns (bots, attacks)
    5. Generates interactive map
    6. Provides CSV export of results

    **Typical Response:**
    - Total IPs: 10,000 (2,543 unique)
    - Countries: 85
    - Top Country: US (38%)
    - Bot Traffic: ~15% (hosting IPs)
    - Map: [visualization URL]
    - Report: [detailed statistics]

    **Time:** 5-10 seconds for 10K IPs
    **API calls:** 2,543 unique + 1 summary

    <Tip>
      For large-scale analysis, consider IPInfo's bulk data downloads for even better pricing and performance.
    </Tip>
  </Tab>
</Tabs>

<Note>
  All examples work in NimbleBrain Studio's natural language interface - no code required!
</Note>

---

## Troubleshooting

<AccordionGroup>
  <Accordion title="Rate Limit Exceeded" icon="triangle-exclamation">
    **Error Message:**

```
429 Too Many Requests - Rate limit exceeded
```

    **Cause:** You've exceeded your monthly request limit (50,000 for Free tier)

    **Solutions:**

    1. **Check your current usage:**
       - Use Studio: "How many IPInfo requests have I used?"
       - Or check the IPInfo dashboard

    2. **Wait for limit reset:**
       - Limits reset on the 1st of each month
       - Check exact reset date in your dashboard

    3. **Upgrade your plan:**
       - Visit [ipinfo.io/account](https://ipinfo.io/account)
       - Basic: 150K requests/mo ($49)
       - Standard: 250K requests/mo ($99)
       - Business: 500K+ requests/mo (custom)

    4. **Optimize usage:**
       - Cache frequently looked-up IPs (24-hour cache recommended)
       - Use batch endpoints instead of sequential lookups
       - Remove duplicate IPs before lookup
       - Use single-field tools when you only need one piece of data
       - Filter private IPs before API calls (10.x, 192.168.x, 127.x)

    <Tip>
      Set up usage alerts in Studio to notify you when approaching your limit. Most visitors are repeat, so caching can reduce API calls by 80%+.
    </Tip>
  </Accordion>

  <Accordion title="Invalid Access Token" icon="key">
    **Error Message:**

```
401 Unauthorized - Invalid token
```

    **Cause:** Access token is incorrect, expired, or improperly configured

    **Solutions:**

    1. **Verify your access token:**
       - Log in to [ipinfo.io](https://ipinfo.io)
       - Go to your **Dashboard**
       - Copy your access token exactly (no extra spaces)

    2. **Update in Studio:**
       - Go to **Connections**
       - Find "IPInfo" in the list
       - Click **Edit Configuration**
       - Paste the correct token in **IPINFO_API_TOKEN** field
       - Click **Save**

    3. **Check account status:**
       - Ensure your IPInfo account is active
       - Verify email address if newly registered
       - Check for any account suspension notices

    4. **Token format:**
       - Should be a long alphanumeric string
       - No special characters or prefixes
       - Example: `abc123def456ghi789`

    <Warning>
      Access tokens are account-specific and should not be shared. If compromised, regenerate your token in the IPInfo dashboard immediately.
    </Warning>
  </Accordion>

  <Accordion title="Invalid IP Address" icon="network-wired">
    **Error Message:**

```
400 Bad Request - Invalid IP address
```

    **Cause:** IP address format is invalid or not publicly routable

    **Solutions:**

    1. **Verify IP format:**
       - IPv4: `xxx.xxx.xxx.xxx` (e.g., `8.8.8.8`)
       - IPv6: full notation (e.g., `2001:4860:4860::8888`)

    2. **Common mistakes:**
       - Remove protocol prefixes: ‚ùå `http://8.8.8.8` ‚Üí ‚úÖ `8.8.8.8`
       - Remove port numbers: ‚ùå `8.8.8.8:80` ‚Üí ‚úÖ `8.8.8.8`
       - Remove paths: ‚ùå `8.8.8.8/path` ‚Üí ‚úÖ `8.8.8.8`
       - Check for typos: missing dots, extra digits

    3. **Private IPs not supported:**
       - Cannot lookup: 10.x.x.x, 192.168.x.x, 172.16-31.x.x
       - Cannot lookup: 127.x.x.x (localhost)
       - Only public, routable IPs work

    **Valid examples:**
    - ‚úÖ `8.8.8.8` (Google DNS)
    - ‚úÖ `1.1.1.1` (Cloudflare DNS)
    - ‚úÖ `2001:4860:4860::8888` (IPv6)

    <Note>
      IPInfo cannot look up private network IPs (RFC 1918 ranges). These are only meaningful within local networks and don't have geographic data.
    </Note>
  </Accordion>

  <Accordion title="Bogon IP Address" icon="ban">
    **Error Message:**

```
400 Bad Request - Bogon IP address
```

    **Cause:** Trying to lookup a reserved, invalid, or unallocated IP range

    **What are Bogons?**
    Bogon IPs are addresses from reserved, unallocated, or invalid ranges that should not appear on the public internet.

    **Solutions:**

    1. **Verify IP is publicly routable:**
       - Not a private IP (10.x, 192.168.x, 172.16-31.x)
       - Not loopback (127.x.x.x)
       - Not link-local (169.254.x.x)
       - Not multicast (224-239.x.x.x)

    2. **Check for special ranges:**
       - Test networks: 192.0.2.x, 198.51.100.x, 203.0.113.x
       - Benchmark: 198.18.x.x, 198.19.x.x
       - Reserved: 240.x.x.x - 255.x.x.x

    3. **Validate source data:**
       - Check logs for corrupted IP entries
       - Verify IP extraction from headers
       - Filter out 0.0.0.0 and 255.255.255.255

    **Reserved ranges to avoid:**
    - **Loopback:** 127.0.0.0/8 (localhost)
    - **Private:** 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16
    - **Link-local:** 169.254.0.0/16 (DHCP failure)
    - **Multicast:** 224.0.0.0/4 (group communications)
    - **Documentation:** 192.0.2.0/24, 198.51.100.0/24, 203.0.113.0/24
    - **Benchmark:** 198.18.0.0/15 (network testing)

    <Warning>
      If you're seeing bogon IPs in production logs, you may have a configuration issue. Check your reverse proxy, load balancer, or CDN settings to ensure you're capturing real client IPs.
    </Warning>
  </Accordion>

  <Accordion title="Incomplete Data Returned" icon="circle-info">
    **Issue:** Some fields are missing from the response

    **This is usually normal, not an error:**

    **Reasons for missing data:**

    1. **Plan tier limitations:**
       - Privacy detection (vpn, proxy, tor): Requires Basic tier or higher
       - Detailed ASN data: Requires Standard tier or higher
       - Domains and IP ranges: Requires Standard tier or higher
       - Full abuse contacts: Requires higher tiers

    2. **Data legitimately unavailable:**
       - Some IPs don't have city-level data (only country)
       - Some networks don't publish company information
       - Some IPs don't have reverse DNS (hostname)
       - Mobile carrier data only available for mobile IPs

    3. **Check what's included in your tier:**

    **Free tier includes:**
    - Country, region, city
    - Coordinates (loc)
    - Postal code
    - Timezone
    - Organization/ASN
    - Basic company info

    **Basic tier adds:**
    - Privacy detection
    - VPN/proxy/Tor identification

    **Standard tier adds:**
    - Detailed ASN data
    - Hosted domains
    - IP ranges

    **Business tier adds:**
    - Full WHOIS data
    - Bulk downloads
    - Priority support

    <Tip>
      Use the IPInfo web interface at ipinfo.io to preview what data is available for a specific IP before querying via API.
    </Tip>
  </Accordion>

  <Accordion title="Server Not Responding" icon="server">
    **Error Message:**

```
Connection timeout
```
or
```
Server not responding
```

    **Cause:** Network connectivity issue or service temporarily unavailable

    **Solutions:**

    1. **Check your internet connection:**
       - Verify you can access other websites
       - Test with: "Look up IP 8.8.8.8"

    2. **Verify server status in Studio:**
       - Go to **Connections**
       - Find "IPInfo" in the list
       - Check if status shows "Active" or "Inactive"

    3. **Try toggling the server:**
       - Click "IPInfo" in your server list
       - Toggle it **Off**, wait 5 seconds
       - Toggle it **On** again

    4. **Check IPInfo API status:**
       - Visit [status.ipinfo.io](https://status.ipinfo.io)
       - Check Twitter/X @ipinfoio for announcements

    5. **Check Studio status:**
       - Verify NimbleBrain Studio is fully operational
       - Check for any maintenance notifications

    <Info>
      Studio manages all server infrastructure automatically - there's no local setup or Docker containers to troubleshoot. If issues persist after toggling, check API status or contact support.
    </Info>
  </Accordion>

  <Accordion title="Slow Response Times" icon="hourglass">
    **Issue:** IP lookups taking longer than expected

    **Expected performance:**
    - Single lookup: < 500ms
    - Batch (10 IPs): 1-2 seconds
    - Batch (100 IPs): 3-5 seconds
    - Summarize/Map (500+ IPs): 5-15 seconds

    **If slower than expected:**

    1. **Check network latency:**
       - Test your internet speed
       - IPInfo servers are globally distributed
       - Geographic distance affects latency

    2. **Optimize requests:**
       - Use batch endpoints for multiple IPs (much faster)
       - Use single-field tools (get_ip_city) instead of full lookup
       - Cache frequently looked-up IPs
       - Remove duplicate IPs before batch lookup

    3. **Check API status:**
       - Visit [status.ipinfo.io](https://status.ipinfo.io)
       - Higher tiers get priority processing
       - Free tier may be slower during peak times

    4. **Reduce payload size:**
       - Don't request fields you don't need
       - Use field paths in batch: `["8.8.8.8/city", "1.1.1.1/country"]`
       - Smaller responses = faster transfers

    <Note>
      Studio automatically handles request optimization and retry logic. Consistent slow responses may indicate network issues or high API load.
    </Note>
  </Accordion>

  <Accordion title="Batch Lookup Failed" icon="layer-group">
    **Error Message:**

```
400 Bad Request - Batch request failed
```

    **Cause:** Batch request format issue or contains invalid IPs

    **Solutions:**

    1. **Verify batch format:**
       - Must be an array of IP strings
       - Example: `["8.8.8.8", "1.1.1.1", "208.67.222.222"]`
       - Maximum 1,000 IPs per batch request

    2. **Check for invalid IPs:**
       - Remove private IPs (10.x, 192.168.x, 172.16-31.x)
       - Remove bogon IPs
       - Validate each IP format before batch
       - One invalid IP can fail the entire batch

    3. **Split large batches:**
       - If you have >1,000 IPs, split into multiple batches
       - Process in chunks of 500-1,000
       - Use summarize_ips for very large lists (up to 500K)

    4. **Remove duplicates:**
       - Deduplicate your IP list first
       - Saves API calls and improves performance

    <Tip>
      Pre-filter your IP list: remove duplicates, private IPs, and invalid formats before sending to batch lookup. This prevents errors and reduces API usage.
    </Tip>
  </Accordion>

  <Accordion title="Privacy Detection Not Working" icon="user-shield">
    **Issue:** VPN/proxy detection returning no data or always false

    **Cause:** Privacy detection requires Basic tier or higher

    **Solutions:**

    1. **Check your plan tier:**
       - Free tier: Does not include privacy detection
       - Basic tier and higher: Includes VPN, proxy, Tor detection
       - Upgrade at [ipinfo.io/account](https://ipinfo.io/account)

    2. **Verify in dashboard:**
       - Log in to ipinfo.io
       - Check "Available Features" section
       - Should show "Privacy Detection: Enabled"

    3. **Use the right tool:**
       - Use `get_privacy_info(ip)` for privacy detection
       - Not included in basic `get_ip_info()` on Free tier

    4. **Known limitations:**
       - Privacy detection is not 100% accurate
       - New VPN services may not be detected immediately
       - Residential proxies are harder to detect

    <Warning>
      Privacy detection requires Basic tier ($49/mo) or higher. Essential for fraud prevention, content licensing enforcement, and detecting automated attacks.
    </Warning>
  </Accordion>
</AccordionGroup>

---

## Best Practices

<CardGroup cols={2}>
  <Card title="For Optimal Performance" icon="gauge-high">
    - Cache frequently looked-up IPs (24-hour TTL recommended)
    - Use batch endpoints for multiple IPs (10x faster)
    - Use single-field tools when you only need one data point
    - Pre-filter private IPs (10.x, 192.168.x) before API calls
    - Deduplicate IP lists before batch processing
    - Implement retry logic for timeout errors
  </Card>

  <Card title="For Cost Optimization" icon="piggy-bank">
    - Monitor usage with `get_account_info` tool
    - Implement aggressive caching (IPs rarely change location)
    - Use batch endpoints to reduce per-IP cost
    - Filter out private/bogon IPs before lookup
    - Cache negative results (invalid IPs) to prevent retries
    - Consider bulk data downloads for very high volume
  </Card>

  <Card title="For Security & Fraud Prevention" icon="shield-halved">
    - Enable privacy detection (requires Basic tier)
    - Flag hosting/datacenter IPs as high-risk
    - Monitor for VPN/proxy usage patterns
    - Track geographic anomalies (country hopping)
    - Check abuse contacts for reported IPs
    - Combine with user behavior analysis
    - Implement progressive risk scoring
  </Card>

  <Card title="For Compliance & Privacy" icon="scale-balanced">
    - Document your use of IP data in privacy policy
    - Only collect/store necessary IP information
    - Implement data retention policies
    - Anonymize IPs in logs after processing
    - Comply with GDPR (EU) and CCPA (California) requirements
    - Provide opt-out mechanisms where required
    - Secure API tokens with encryption
  </Card>
</CardGroup>

---

## Links & Resources

<CardGroup cols={2}>
  <Card title="GitHub Repository" icon="github" href="https://github.com/NimbleBrainInc/mcp-ipinfo">
    View source code, report issues, and contribute
  </Card>

  <Card title="IPInfo API Documentation" icon="book" href="https://ipinfo.io/developers">
    Official IPInfo API reference and guides
  </Card>

  <Card title="Get Access Token" icon="key" href="https://ipinfo.io/signup">
    Sign up for IPInfo API (Free or paid tiers)
  </Card>

  <Card title="NimbleBrain Studio" icon="brain" href="https://studio.nimblebrain.ai?utm_source=docs&utm_campaign=studio">
    Access your Studio workspace
  </Card>

  <Card title="Report Issues" icon="bug" href="https://github.com/NimbleBrainInc/mcp-ipinfo/issues">
    Found a bug? Submit an issue on GitHub
  </Card>

  <Card title="IPInfo Dashboard" icon="chart-line" href="https://ipinfo.io/account">
    Manage your API keys and monitor usage
  </Card>
</CardGroup>

## Related Connections

<CardGroup cols={3}>
  <Card title="OpenWeatherMap" icon="cloud-sun" href="/mcp-servers/weather/openweathermap">
    Location-based weather data
  </Card>

  <Card title="Google Maps" icon="map" href="/mcp-servers/location/google-maps">
    Geocoding and mapping
  </Card>

  <Card title="Salesforce" icon="database" href="/mcp-servers/crm/salesforce">
    Enrich CRM with location data
  </Card>

  <Card title="Google Analytics" icon="chart-bar" href="/mcp-servers/analytics/google-analytics">
    Enhanced visitor analytics
  </Card>

  <Card title="Stripe" icon="credit-card" href="/mcp-servers/payments/stripe">
    Location-based payment fraud
  </Card>

  <Card title="Cloudflare" icon="shield" href="/mcp-servers/security/cloudflare">
    Network security and DDoS protection
  </Card>
</CardGroup>

---

**Need help?** Join the [NimbleBrain Discord](https://www.nimblebrain.ai/discord?utm_source=docs&utm_campaign=studio) or email support@nimblebrain.ai
