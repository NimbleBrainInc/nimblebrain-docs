---
title: 'Claude Desktop Integration'
description: 'Connect your MCP servers to Claude Desktop with one-click configuration'
icon: 'robot'
---

Integrate your deployed MCP servers with Claude Desktop for enhanced AI capabilities.

## Overview

NimbleBrain Studio generates complete Claude Desktop configurations automatically, making it easy to connect your MCP servers to Claude.

<Callout type="success">
  No manual JSON editing required! Studio generates the entire configuration for you.
</Callout>

## Quick Setup

<Steps>
  <Step title="Deploy an MCP Server">
    Ensure you have at least one server deployed in your workspace
  </Step>
  <Step title="Generate Configuration">
    From the server details page, click **Claude Desktop Config**
  </Step>
  <Step title="Copy Configuration">
    Click **Copy to Clipboard** to copy the JSON
  </Step>
  <Step title="Open Claude Config File">
    Navigate to Claude's configuration file:
    - **macOS**: `~/Library/Application Support/Claude/claude_desktop_config.json`
    - **Windows**: `%APPDATA%\Claude\claude_desktop_config.json`
  </Step>
  <Step title="Paste & Save">
    Paste the configuration and save the file
  </Step>
  <Step title="Restart Claude Desktop">
    Quit and restart Claude Desktop to load the servers
  </Step>
</Steps>

## Generated Configuration

Studio generates a complete configuration including:

```json
{
  "mcpServers": {
    "nationalparks-mcp": {
      "command": "npx",
      "args": [
        "-y",
        "@nimbletools/mcp-client",
        "https://mcp.nimbletools.dev/{workspace-id}/nationalparks-mcp/mcp"
      ],
      "env": {
        "NTCLI_TOKEN": "your-workspace-token"
      }
    }
  }
}
```

### Configuration Components

<ResponseField name="Server Name" type="string">
  The MCP server identifier from the registry
</ResponseField>

<ResponseField name="command" type="string">
  Always `npx` to use the NimbleTools MCP HTTP client
</ResponseField>

<ResponseField name="args" type="array">
  Array containing:
  - `-y` flag to bypass prompts
  - `@nimbletools/mcp-client` package
  - Your server's MCP endpoint URL
</ResponseField>

<ResponseField name="env.NTCLI_TOKEN" type="string">
  Your workspace authentication token (automatically included)
</ResponseField>

## Multiple Servers

Add multiple MCP servers to Claude Desktop:

### Option 1: Generate Combined Config

<Steps>
  <Step title="Navigate to Workspace Settings">
    Go to Settings â†’ Claude Desktop
  </Step>
  <Step title="Select Servers">
    Check all servers you want to include
  </Step>
  <Step title="Generate Config">
    Click **Generate Combined Config**
  </Step>
  <Step title="Copy & Apply">
    Copy and paste into your Claude config file
  </Step>
</Steps>

### Option 2: Merge Individual Configs

Manually merge configurations from multiple servers:

```json
{
  "mcpServers": {
    "nationalparks-mcp": {
      "command": "npx",
      "args": ["-y", "@nimbletools/mcp-client", "https://mcp.nimbletools.dev/{workspace}/nationalparks-mcp/mcp"],
      "env": {"NTCLI_TOKEN": "your-token"}
    },
    "finnhub-mcp": {
      "command": "npx",
      "args": ["-y", "@nimbletools/mcp-client", "https://mcp.nimbletools.dev/{workspace}/finnhub-mcp/mcp"],
      "env": {"NTCLI_TOKEN": "your-token"}
    }
  }
}
```

<Callout type="tip">
  You can mix NimbleTools servers with locally-run MCP servers in the same config file.
</Callout>

## Verifying Integration

### Check Claude Desktop

After restarting Claude Desktop:

<Steps>
  <Step title="Open Claude Desktop">
    Launch the application
  </Step>
  <Step title="Look for Tool Indicator">
    You should see a ðŸ”Œ icon or "Tools available" message
  </Step>
  <Step title="Start a Conversation">
    Begin a new chat to test the integration
  </Step>
  <Step title="Ask a Question">
    Try a query that would use your MCP server's tools
  </Step>
</Steps>

### Example Queries

<Tabs>
  <Tab title="nationalparks-mcp">
    "What are the top 5 most visited national parks?"

    "Show me national parks in California with camping facilities"
  </Tab>
  <Tab title="finnhub-mcp">
    "What's the current stock price of AAPL?"

    "Get me the latest news about Tesla"
  </Tab>
  <Tab title="github-mcp">
    "List recent issues in my repository"

    "Create a new issue titled 'Bug: login fails'"
  </Tab>
</Tabs>

### Tool Call Visibility

Claude will show you when it's using your MCP tools:

<Frame>
  <div style={{padding: '15px', border: '1px solid #ddd', borderRadius: '8px', backgroundColor: '#f9f9f9'}}>
    <p><strong>Claude</strong></p>
    <p>I'll search for national parks in California.</p>
    <div style={{padding: '10px', margin: '10px 0', backgroundColor: '#e3f2fd', borderRadius: '4px'}}>
      ðŸ”§ <strong>Using tool:</strong> search_parks
      <br />
      <small>{"{"} state: "California" {"}"}</small>
    </div>
    <p>I found 9 national parks in California...</p>
  </div>
</Frame>

## Troubleshooting

<AccordionGroup>
  <Accordion title="Claude doesn't show MCP tools available">
    **Possible causes**:
    - Claude Desktop wasn't fully restarted
    - Configuration file has JSON syntax errors
    - Config file is in wrong location

    **Solution**:
    - Fully quit Claude Desktop (check system tray)
    - Validate JSON syntax with a JSON validator
    - Verify file path matches your OS
  </Accordion>

  <Accordion title="Tools appear but don't work">
    **Possible causes**:
    - Server is scaled to zero (cold start delay)
    - Workspace token expired
    - Required secrets not configured

    **Solution**:
    - Wait 5-10 seconds for cold start
    - Refresh token in Studio (Settings â†’ API Tokens)
    - Check server requires secrets and add them
  </Accordion>

  <Accordion title="Error: Invalid token">
    **Possible causes**:
    - Token expired
    - Token was revoked
    - Wrong workspace token

    **Solution**:
    - Generate a new token in Studio
    - Update `NTCLI_TOKEN` in config file
    - Restart Claude Desktop
  </Accordion>

  <Accordion title="Cold starts take too long">
    **Possible causes**:
    - Server scaled to zero
    - First request after idle period

    **Solution**:
    - Set minimum replicas to 1 in server settings
    - Understand cold starts typically take 2-5 seconds
  </Accordion>
</AccordionGroup>

## Advanced Configuration

### Custom Environment Variables

Add extra environment variables for specific servers:

```json
{
  "mcpServers": {
    "your-server": {
      "command": "npx",
      "args": ["-y", "@nimbletools/mcp-client", "https://..."],
      "env": {
        "NTCLI_TOKEN": "your-token",
        "CUSTOM_VAR": "custom-value",
        "DEBUG": "true"
      }
    }
  }
}
```

<Callout type="warning">
  Environment variables in Claude's config are separate from secrets in Studio. These are only used by the client, not the server.
</Callout>

### Mixing NimbleTools and Local Servers

Run NimbleTools-hosted and local MCP servers together:

```json
{
  "mcpServers": {
    "nimbletools-server": {
      "command": "npx",
      "args": ["-y", "@nimbletools/mcp-client", "https://mcp.nimbletools.dev/..."],
      "env": {"NTCLI_TOKEN": "your-token"}
    },
    "local-server": {
      "command": "node",
      "args": ["/path/to/local-server/index.js"]
    }
  }
}
```

## Configuration Management

### Backing Up Configuration

Always back up your Claude config before making changes:

```bash
# macOS
cp ~/Library/Application\ Support/Claude/claude_desktop_config.json ~/claude_config_backup.json

# Windows
copy %APPDATA%\Claude\claude_desktop_config.json %USERPROFILE%\claude_config_backup.json
```

### Version Control

Store configurations in version control for team sharing:

```bash
# .gitignore - exclude tokens!
claude_desktop_config.json

# Share template without tokens
claude_desktop_config.template.json
```

## Related Documentation

<CardGroup cols={2}>
  <Card
    title="Server Management"
    icon="server"
    href="/studio/server-management"
  >
    Deploy and manage MCP servers
  </Card>
  <Card
    title="API Keys & Tokens"
    icon="key"
    href="/studio/api-keys"
  >
    Generate and manage workspace tokens
  </Card>
  <Card
    title="CLI: Claude Config"
    icon="terminal"
    href="/cli/commands/server/claude-config"
  >
    Generate config from command line
  </Card>
  <Card
    title="Developer Integration Guide"
    icon="code"
    href="/dev/claude-desktop-integration"
  >
    Advanced integration patterns
  </Card>
</CardGroup>
